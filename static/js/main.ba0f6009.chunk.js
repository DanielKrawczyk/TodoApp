(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(16),r=n.n(s),i=n(10),o=n(4),l=n(3),d=n.n(l),u=n(7),j=n(2),h=n(5),b=Object(o.b)({key:"data",default:{status:"NO_DATA",all:[],undone:[],done:[]}}),O="c66e80da1f19b12bf8f8e5f786204646fc1b0c1db60a25e9e7f44a76766c5960",m="https://gorest.co.in/public/v1/";function p(){return(p=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m).concat(t));case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:return e.abrupt("return",n.status);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m).concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O)}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(u.a)(d.a.mark((function e(t,n,a){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m).concat(t),{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O)},body:JSON.stringify(a)});case 2:if(!((c=e.sent).status>=400)){e.next=5;break}return e.abrupt("return",c);case 5:return s=c.json(),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={fetchGET:function(e){return p.apply(this,arguments)},fetchPOST:function(e,t,n){return x.apply(this,arguments)},fetchDELETE:function(e){return f.apply(this,arguments)},accessToken:O};function g(){return(g=Object(u.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("id"in localStorage)){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("id")));case 2:return t=Math.random().toString(20).substr(2,20),n={name:t,gender:"Male",email:"".concat(t,"@what.com"),status:"Active"},e.next=6,v.fetchPOST("users/","POST",n);case 6:if(!((a=e.sent).status>=400)){e.next=9;break}return e.abrupt("return",-1);case 9:return localStorage.setItem("id",JSON.stringify(a.data.id)),e.abrupt("return",a.data.id);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=Object(o.b)({key:"User ID info",default:function(){return g.apply(this,arguments)}()}),N=Object(o.b)({key:"info",default:""}),y=n(0);var w=function(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(o.e)(b),r=Object(o.d)(k),l=Object(a.useState)(""),h=Object(j.a)(l,2),O=h[0],m=h[1],p=Object(o.f)(N),f=document.getElementById("loading"),x=document.getElementById("finished");function g(){return(g=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>200)){e.next=5;break}return w("It's soooo many letters! I'm not sure I can handle it :("),e.abrupt("return");case 5:if(!(n<5)){e.next=8;break}return w("Oh, come on! Don't give me empty task! At least 5 characters would be nice :)"),e.abrupt("return");case 8:return f.classList.remove("invis"),t={user_id:r,title:document.getElementById("title").value,status:"pending",due_on:"2022-06-06T00:00:00.000Z"},e.prev=10,e.next=13,v.fetchPOST("users/".concat(r,"/todos"),"POST",t);case 13:if(422!==(a=e.sent).status){e.next=16;break}return e.abrupt("return",m("Something go wrong! Please try again later!"));case 16:return m("New task added succesfully!"),s(),e.abrupt("return",a);case 21:e.prev=21,e.t0=e.catch(10),m("Ooops, something bad happened to the Internet! Try again later :/");case 24:return e.prev=24,x.classList.remove("invis"),f.classList.add("invis"),c(0),e.finish(24);case 29:case"end":return e.stop()}}),e,null,[[10,21,24,29]])})))).apply(this,arguments)}function w(e){p(e),document.getElementById("info").classList.remove("invis")}return Object(y.jsxs)("div",{className:"add",children:[Object(y.jsx)("div",{className:"add-title",children:Object(y.jsx)("h1",{children:"Let's add some new challenges!"})}),Object(y.jsxs)("div",{className:"add-form",children:[Object(y.jsx)("p",{children:Object(y.jsxs)("b",{children:[n," / ",Object(y.jsx)("span",{id:"maxValue",children:"200"})]})}),Object(y.jsx)("textarea",{id:"title",onChange:function(e){c(e.target.value.length),setTimeout((function(){n>200?document.getElementById("maxValue").classList.add("red"):n<=200&&document.getElementById("maxValue").classList.contains("red")&&document.getElementById("maxValue").classList.remove("red")}),200)}}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)("button",{className:"btn g m-r",onClick:function(){!function(){g.apply(this,arguments)}()},children:"Add new note!"}),Object(y.jsx)(i.b,{to:"/",children:Object(y.jsx)("button",{className:"btn r",children:"Go back to list!"})})]}),Object(y.jsx)("div",{id:"finished",className:"invis",children:Object(y.jsxs)("span",{children:[Object(y.jsx)("h2",{children:O}),Object(y.jsx)(i.b,{to:"/",children:Object(y.jsx)("button",{className:"btn g",onClick:function(){return x.classList.add("invis")},children:"Let's go back to work!"})})]})})]})},E=Object(o.b)({key:"search data",default:{keyword:"",data:[]}});var I=function(){var e=Object(o.d)(b),t=Object(o.c)(E),n=Object(j.a)(t,2),a=n[0],s=n[1];function r(){var e=document.getElementById("search").classList;e.contains("invis-hide")||e.add("invis-hide")}return Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsxs)("div",{className:"main-title",children:[Object(y.jsx)("h1",{children:"Hello! I hope you're feeling great today!"}),Object(y.jsx)("h2",{children:"Here's some of your tasks!"})]}),Object(y.jsxs)("div",{className:"main-counter",children:[Object(y.jsx)("span",{className:"count m-r",children:"Filter by"}),Object(y.jsx)(i.b,{className:"m-t",to:"/",children:Object(y.jsxs)("span",{className:"count h m-r",onClick:function(){return r()},children:[Object(y.jsx)("i",{className:"bi bi-card-checklist green"})," All tasks: ",e.all.length]})}),Object(y.jsx)(i.b,{className:"m-t",to:"/done",children:Object(y.jsxs)("span",{className:"count h m-r",onClick:function(){return r()},children:[Object(y.jsx)("i",{className:"bi bi-check-square green"})," Tasks done: ",e.done.length>0?e.done.length:0]})}),Object(y.jsx)(i.b,{className:"m-t",to:"/undone",children:Object(y.jsxs)("span",{className:"count h m-r",onClick:function(){return r()},children:[Object(y.jsx)("i",{className:"bi bi-x-square red"})," Tasks undone: ",e.undone.length>0?e.undone.length:0]})}),Object(y.jsx)(i.b,{to:"/add",children:Object(y.jsx)("div",{id:"add",children:Object(y.jsx)("i",{className:"bi bi-plus-lg"})})}),Object(y.jsx)(i.b,{className:"m-t",to:"/search",children:Object(y.jsx)("span",{className:"count h",onClick:function(){var e=document.getElementById("search").classList;e.contains("invis-hide")?e.remove("invis-hide"):e.add("invis-hide")},children:Object(y.jsx)("i",{className:"bi bi-search"})})}),Object(y.jsx)("div",{className:"invis-hide",id:"search",children:Object(y.jsx)("input",{type:"text",placeholder:a.keyword,onChange:function(t){var n=e.all.filter((function(e){return e.title.includes(t.target.value)}));s({keyword:t.target.value,data:n})}})})]})]})};var T=function(e){var t=Object(a.useState)(0),n=Object(j.a)(t,2),s=n[0],r=n[1],i=e.nr,o=e.txt,l=e.item;return Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsxs)("div",{className:"editing-txt",children:[Object(y.jsx)("textarea",{name:"edit",placeholder:o,id:"edited".concat(i),onChange:function(e){return r(e.target.value.length)}}),Object(y.jsxs)("p",{children:[s," / 200"]})]}),Object(y.jsx)("button",{className:"btn g",onClick:function(){var t=document.getElementById("edited".concat(i)).value;e.onUpdate("EDITED",l,t)},children:"Save"})]})};var L=function(e){var t=e.item,n=e.nr,a=t.status,c=t.title,s=t.due_on;return Object(y.jsxs)("div",{className:"main-list_item",children:[Object(y.jsxs)("span",{className:"marked",children:["completed"===a?Object(y.jsx)("h2",{children:Object(y.jsx)("i",{className:"bi bi-check-lg green"})}):Object(y.jsx)("h2",{children:Object(y.jsx)("i",{className:"bi bi-x-lg red"})}),Object(y.jsxs)("h2",{children:["ToDo #",n]})]}),Object(y.jsxs)("span",{className:"text",children:[Object(y.jsx)("p",{className:"point",onClick:function(){return function(e){var t=document.getElementById("info".concat(e)).classList;t.contains("show")?t.remove("show"):t.add("show")}(n)},children:c}),Object(y.jsx)("div",{className:"text-info fade",id:"info".concat(n),children:Object(y.jsxs)("span",{children:["Due on: ",s]})}),Object(y.jsx)("div",{className:"editing invis-hide",id:"edit".concat(n),children:Object(y.jsx)(T,{nr:n,txt:c,item:t,onUpdate:function(t,n,a){return e.onUpdate(t,n,a)}})})]}),Object(y.jsxs)("span",{className:"options",children:["completed"===a?Object(y.jsx)("h2",{onClick:function(){return e.onInfo("Firstly you need to undone the task!")},children:Object(y.jsx)("i",{className:"bi bi-pencil edit"})}):Object(y.jsx)("h2",{onClick:function(){return function(e){var t=document.getElementById("edit".concat(e)).classList;t.contains("invis-hide")?t.remove("invis-hide"):t.add("invis-hide")}(n)},children:Object(y.jsx)("i",{className:"bi bi-pencil edit"})}),"completed"===a?Object(y.jsx)("h2",{onClick:function(){return e.onUpdate("UNDONE",t)},children:Object(y.jsx)("i",{className:"bi bi-x-lg undone"})}):Object(y.jsx)("h2",{onClick:function(){document.querySelectorAll(".editing").forEach((function(e){e.classList.contains("invis-hide")||e.classList.add("invis-hide")})),e.onUpdate("DONE",t)},children:Object(y.jsx)("i",{className:"bi bi-check-lg done"})}),Object(y.jsx)("h2",{onClick:function(){return e.onDelete(t)},children:Object(y.jsx)("i",{className:"bi bi-trash trash"})})]})]})};var C=function(e){var t=Object(o.d)(b),n=Object(o.e)(b),a=Object(o.d)(E),c=Object(o.f)(N),s=document.getElementById("loading"),r=v.fetchDELETE,i=v.fetchPOST;function l(t){return t.length>200?(e.showInfo("Too many characters! I can't handle it! :("),!1):!(t.length<5)||(e.showInfo("Even a small task need some words to describe. Try at least 5 characters! :)"),!1)}function j(){return(j=Object(u.a)(d.a.mark((function e(t,a,c){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.t0=t,e.next="DONE"===e.t0?4:"UNDONE"===e.t0?6:"EDITED"===e.t0?8:12;break;case 4:return r={status:"completed"},e.abrupt("break",13);case 6:return r={status:"pending"},e.abrupt("break",13);case 8:if(l(c)){e.next=10;break}return e.abrupt("return");case 10:return r={title:c},e.abrupt("break",13);case 12:return e.abrupt("return");case 13:return s.classList.remove("invis"),e.next=17,i("todos/".concat(a.id),"PATCH",r);case 17:return o=e.sent,n(),s.classList.add("invis"),e.abrupt("return",o);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1===t.completed?window.confirm("Do you reaaally want to delete this task? It seems it's not done yet :/"):window.confirm("Do you really want to delete this task? It's done, so no problem ;)"))){e.next=9;break}return s.classList.remove("invis"),e.next=5,r("todos/".concat(t.id));case 5:return a=e.sent,n(),s.classList.add("invis"),e.abrupt("return",a);case 9:case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)("div",{className:"main",children:[Object(y.jsx)(I,{}),function(e){var n;switch(e){case"FILTER_UNDONE":n=t.undone;break;case"FILTER_DONE":n=t.done;break;case"FILTER_SEARCH":n=a.data;break;default:n=t.all}switch(t.status){case"NO_DATA":return Object(y.jsx)("div",{id:"loading",children:Object(y.jsxs)("h2",{children:["Loading...",Object(y.jsx)("svg",{id:"pencil",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(y.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})]})});case"NO_TASKS":return Object(y.jsx)("div",{className:"result",children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"});case"CONNECTION_ERR":return Object(y.jsx)("div",{className:"result",children:"Oh no, something bad happened to the internet! \ud83d\ude28 Check your connection or try again later! \ud83d\ude09"});default:var s=0;if(0===n.length){var r;switch(e){case"FILTER_SEARCH":r=Object(y.jsx)("p",{children:"Looking for something particular? Let me help you! \ud83d\ude0e"});break;case"FILTER_DONE":r=Object(y.jsx)("p",{children:"Looks like there are no tasks available. What about adding some new challenges? \ud83d\ude0e"});break;case"FILTER_UNDONE":r=Object(y.jsx)("p",{children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"});break;default:r=Object(y.jsx)("p",{children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"})}return Object(y.jsx)("div",{className:"result",children:r})}return n.map((function(e){return s++,Object(y.jsx)(L,{item:e,nr:s,onDelete:function(e){return function(e){return h.apply(this,arguments)}(e)},onInfo:function(e){return c(e),void document.getElementById("info").classList.remove("invis")},onUpdate:function(e,t,n){return function(e,t,n){return j.apply(this,arguments)}(e,t,n)}},e.id)}))}}(e.type)]})};var D=function(){var e=Object(o.c)(b),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(o.c)(E),r=Object(j.a)(s,2),i=r[0],l=r[1],O=Object(o.d)(k),m=v.fetchGET,p=v.accessToken;function f(){m("users/".concat(O,"/todos?access-token=").concat(p)).then((function(e){e>=400?g("CONNECTION_ERR"):0===e.data.length?g("NO_TASKS"):e.data.length>0&&(g("READY",e.data,e.data.filter((function(e){return"pending"===e.status})),e.data.filter((function(e){return"completed"===e.status}))),l({keyword:i.keyword,data:e.data.filter((function(e){return e.title.includes(i.keyword)}))}))})).catch((function(e){g("CONNECTION_ERR"),console.log("I detected some pointless and unwanted errors! Have a nice tea! ".concat(e))}))}function x(){return(x=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("users/".concat(O,"?access-token=").concat(p));case 2:e.sent>=400?("id"in localStorage&&localStorage.removeItem("id"),window.location.reload()):f();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NO_DATA",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];a({status:e,all:t,undone:n,done:c})}return"NO_DATA"===n.status&&function(){x.apply(this,arguments)}(),Object(y.jsx)(c.a.Fragment,{children:Object(y.jsxs)(h.c,{children:[Object(y.jsx)(h.a,{exact:!0,path:"/",children:Object(y.jsx)(C,{})}),Object(y.jsx)(h.a,{path:"/undone",children:Object(y.jsx)(C,{type:"FILTER_UNDONE"})}),Object(y.jsx)(h.a,{path:"/done",children:Object(y.jsx)(C,{type:"FILTER_DONE"})}),Object(y.jsx)(h.a,{path:"/add",children:Object(y.jsx)(w,{})}),Object(y.jsx)(h.a,{path:"/search",children:Object(y.jsx)(C,{type:"FILTER_SEARCH"})})]})})};var S=function(){return Object(y.jsx)("div",{id:"loading",className:"invis",children:Object(y.jsxs)("h2",{children:["Loading...",Object(y.jsx)("svg",{id:"pencil",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(y.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})]})})};var A=function(){return Object(y.jsx)("div",{className:"footer",children:Object(y.jsx)("p",{children:"\xae Copyright 2021 - Daniel Krawczyk"})})};var B=function(){var e=Object(o.d)(N);return Object(y.jsx)("div",{id:"info",className:"invis",children:Object(y.jsxs)("span",{children:[Object(y.jsx)("h2",{children:e}),Object(y.jsx)("button",{className:"btn g op",onClick:function(){return document.getElementById("info").classList.add("invis")},children:"Okay!"})]})})};var _=function(){return Object(y.jsxs)(o.a,{children:[Object(y.jsx)(D,{}),Object(y.jsx)(S,{}),Object(y.jsx)(B,{}),Object(y.jsx)(A,{})]})};n(36);r.a.render(Object(y.jsx)(i.a,{basename:"/TodoApp",children:Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(S,{}),children:Object(y.jsx)(_,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.ba0f6009.chunk.js.map