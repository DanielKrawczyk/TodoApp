(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(16),i=n.n(s),r=n(9),o=n(3),d=n(5),l=n.n(d),u=n(12),b=n(2),j=n(4),h=Object(o.b)({key:"characters",default:0}),O=n(0);var m=function(e){var t=Object(o.c)(h),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),d=Object(b.a)(i,2),j=d[0],m=d[1],f=document.getElementById("loading"),p=document.getElementById("finished");function x(){return(x=Object(u.a)(l.a.mark((function t(){var n,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a>200)){t.next=5;break}return e.onInfo("It's soooo many letters! I'm not sure I can handle it :("),t.abrupt("return");case 5:if(!(a<5)){t.next=8;break}return e.onInfo("Oh, come on! Don't give me empty task! At least 5 characters would be nice :)"),t.abrupt("return");case 8:return f.classList.remove("invis"),n={title:document.getElementById("title").value,completed:!1},t.next=12,fetch("https://gorest.co.in/public-api/users/125/todos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"},body:JSON.stringify(n)});case 12:return c=t.sent,i=c.json(),f.classList.add("invis"),v(i.code),p.classList.remove("invis"),e.onRefresh(),s(0),t.abrupt("return",i);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(e){m(e>=400?"Ooops, something bad happened to Mr Server! Try again later :/":"New task added succesfully!")}return Object(O.jsxs)("div",{className:"add",children:[Object(O.jsx)("div",{className:"add-title",children:Object(O.jsx)("h1",{children:"Let's add some new challenges!"})}),Object(O.jsxs)("div",{className:"add-form",children:[Object(O.jsx)("p",{children:Object(O.jsxs)("b",{children:[a," / ",Object(O.jsx)("span",{id:"maxValue",children:"200"})]})}),Object(O.jsx)("textarea",{id:"title",onChange:function(e){s(e.target.value.length),setTimeout((function(){a>200?document.getElementById("maxValue").classList.add("red"):a<=200&&document.getElementById("maxValue").classList.contains("red")&&document.getElementById("maxValue").classList.remove("red")}),200)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"btn g m-r",onClick:function(){(function(){return x.apply(this,arguments)})().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Utw\xf3rz now\u0105 notatk\u0119!"}),Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("button",{className:"btn r",children:"Powr\xf3t do listy"})})]}),Object(O.jsx)("div",{id:"finished",className:"invis",children:Object(O.jsxs)("span",{children:[Object(O.jsx)("h2",{children:j}),Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("button",{className:"btn g",onClick:function(){return p.classList.add("invis")},children:"Let's go back to work!"})})]})})]})};var f=function(e){var t=Object(c.useState)(0),n=Object(b.a)(t,2),s=n[0],i=n[1],r=e.nr,o=e.txt,d=e.item;return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsxs)("div",{className:"editing-txt",children:[Object(O.jsx)("textarea",{name:"edit",placeholder:o,id:"edited".concat(r),onChange:function(e){return i(e.target.value.length)}}),Object(O.jsxs)("p",{children:[s," / 200"]})]}),Object(O.jsx)("button",{className:"btn g",onClick:function(){var t=document.getElementById("edited".concat(r)).value;e.onUpdate("EDITED",d,t)},children:"Save"})]})},p=Object(o.b)({key:"is loaded",default:!1});var x=function(e){var t=e.item,n=e.nr,c=t.completed,a=t.title,s=Object(o.d)(p);return Object(O.jsxs)("div",{className:"main-list_item",children:[Object(O.jsxs)("span",{className:"marked",children:[c?Object(O.jsx)("h2",{children:Object(O.jsx)("i",{className:"bi bi-check-lg green"})}):Object(O.jsx)("h2",{children:Object(O.jsx)("i",{className:"bi bi-x-lg red"})}),Object(O.jsxs)("h2",{children:["ToDo #",n]})]}),Object(O.jsxs)("span",{className:"text",children:[Object(O.jsx)("p",{children:a}),Object(O.jsx)("div",{className:"editing invis-hide",id:"edit".concat(n),children:Object(O.jsx)(f,{nr:n,txt:a,item:t,onUpdate:function(t,n,c){return e.onUpdate(t,n,c)}})})]}),Object(O.jsxs)("span",{className:"options",children:[c?Object(O.jsx)("h2",{onClick:function(){return e.onInfo("Firstly you need to undone the task!")},children:Object(O.jsx)("i",{className:"bi bi-pencil edit"})}):Object(O.jsx)("h2",{onClick:function(){return function(t){if(!1===s)return e.onInfo("Oh, boo hoo! Here comes the fastest finger on the west, huh? Nice try :P");var n=document.getElementById("edit".concat(t)).classList;n.contains("invis-hide")?n.remove("invis-hide"):n.add("invis-hide")}(n)},children:Object(O.jsx)("i",{className:"bi bi-pencil edit"})}),c?Object(O.jsx)("h2",{onClick:function(){return e.onUpdate("UNDONE",t)},children:Object(O.jsx)("i",{className:"bi bi-x-lg undone"})}):Object(O.jsx)("h2",{onClick:function(){document.querySelectorAll(".editing").forEach((function(e){e.classList.contains("invis-hide")||e.classList.add("invis-hide")})),e.onUpdate("DONE",t)},children:Object(O.jsx)("i",{className:"bi bi-check-lg done"})}),Object(O.jsx)("h2",{onClick:function(){return e.onDelete(t)},children:Object(O.jsx)("i",{className:"bi bi-trash trash"})})]})]})},v=Object(o.b)({key:"data",default:{status:"NO_DATA",all:[],undone:[],done:[]}}),g=Object(o.b)({key:"search temp data",default:{keyword:"",data:[]}});var N=function(){var e=Object(o.d)(v),t=Object(o.c)(g),n=Object(b.a)(t,2),c=n[0],s=n[1];function i(){var e=document.getElementById("search").classList;e.contains("invis-hide")||e.add("invis-hide")}return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsxs)("div",{className:"main-title",children:[Object(O.jsx)("h1",{children:"Hello! I hope you're feeling great today!"}),Object(O.jsx)("h2",{children:"Here's some of your tasks!"})]}),Object(O.jsxs)("div",{className:"main-counter",children:[Object(O.jsx)("span",{className:"count m-r",children:"Filter by"}),Object(O.jsx)(r.b,{to:"/",children:Object(O.jsxs)("span",{className:"count h m-r",onClick:function(){return i()},children:[Object(O.jsx)("i",{className:"bi bi-card-checklist green"})," All tasks: ",e.all.length]})}),Object(O.jsx)(r.b,{to:"/done",children:Object(O.jsxs)("span",{className:"count h m-r",onClick:function(){return i()},children:[Object(O.jsx)("i",{className:"bi bi-check-square green"})," Tasks done: ",e.done.length>0?e.done.length:0]})}),Object(O.jsx)(r.b,{to:"/undone",children:Object(O.jsxs)("span",{className:"count h m-r",onClick:function(){return i()},children:[Object(O.jsx)("i",{className:"bi bi-x-square red"})," Tasks undone: ",e.undone.length>0?e.undone.length:0]})}),Object(O.jsx)(r.b,{to:"/add",children:Object(O.jsx)("div",{id:"add",children:Object(O.jsx)("i",{className:"bi bi-plus-lg"})})}),Object(O.jsx)(r.b,{to:"/search",children:Object(O.jsx)("span",{className:"count h",onClick:function(){var e=document.getElementById("search").classList;e.contains("invis-hide")?e.remove("invis-hide"):e.add("invis-hide")},children:Object(O.jsx)("i",{className:"bi bi-search"})})}),Object(O.jsx)("div",{className:"invis-hide",id:"search",children:Object(O.jsx)("input",{type:"text",placeholder:c.keyword,onChange:function(t){var n=e.all.filter((function(e){return e.title.includes(t.target.value)}));s({keyword:t.target.value,data:n})}})})]})]})};var k=function(e){var t=e.info;return Object(O.jsx)("div",{id:"info",className:"invis",children:Object(O.jsxs)("span",{children:[Object(O.jsx)("h2",{children:t}),Object(O.jsx)("button",{className:"btn g",onClick:function(){return document.getElementById("info").classList.add("invis")},children:"Okay!"})]})})},y=Object(o.b)({key:"info",default:""});var w=function(){var e=Object(o.c)(v),t=Object(b.a)(e,2),n=t[0],s=t[1],i=Object(o.c)(y),r=Object(b.a)(i,2),d=r[0],h=r[1],f=Object(o.c)(p),w=Object(b.a)(f,2),E=w[0],I=w[1],L=Object(o.c)(g),C=Object(b.a)(L,2),T=C[0],D=C[1],A=document.getElementById("loading");function B(){return(B=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gorest.co.in/public-api/users/125/todos?access-token=a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9");case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){!0!==E&&function(){return B.apply(this,arguments)}().then((function(e){200===e.code&&0===e.data.length?s({status:"NO_TASKS",all:e.data,undone:e.data.filter((function(e){return!1===e.completed})),done:e.data.filter((function(e){return!0===e.completed}))}):404===e.code?s({status:"CONNECTION_ERR",all:e.data,undone:e.data.filter((function(e){return!1===e.completed})),done:e.data.filter((function(e){return!0===e.completed}))}):200===e.code&&e.data.length>0&&(s({status:"READY",all:e.data,undone:e.data.filter((function(e){return!1===e.completed})),done:e.data.filter((function(e){return!0===e.completed}))}),D({keyword:T.keyword,data:n.all.filter((function(e){return e.title.includes(T.keyword)}))}),I(!0))})).catch((function(e){s(!1),console.log("I detected some pointless and unwanted errors! Have a nice tea! ".concat(e))}))}function S(e){var t;switch(e){case"FILTER_UNDONE":t=n.undone;break;case"FILTER_DONE":t=n.done;break;case"FILTER_SEARCH":t=T.data;break;default:t=n.all}switch(n.status){case"NO_DATA":return Object(O.jsx)("div",{id:"loading",children:Object(O.jsxs)("h2",{children:["Loading...",Object(O.jsx)("svg",{id:"pencil",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})]})});case"NO_TASKS":return Object(O.jsx)("div",{className:"result",children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"});case"CONNECTION_ERR":return Object(O.jsx)("div",{className:"result",children:"Oh no, something bad happened to the internet! \ud83d\ude28 Check your connection or try again later! \ud83d\ude09"});default:var c=0;return 0===t.length?Object(O.jsx)("div",{className:"result",children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"}):t.map((function(e){return c++,Object(O.jsx)(x,{item:e,nr:c,onDelete:function(e){return function(e){return _.apply(this,arguments)}(e)},onInfo:function(e){return V(e)},onUpdate:function(e,t,n){return function(e,t,n){return F.apply(this,arguments)}(e,t,n)}},e.id)}))}}function z(e){return Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)(N,{}),S(e)]})}function _(){return(_=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1===t.completed?window.confirm("Do you reaaally want to delete this task? It seems it's not done yet :/"):window.confirm("Do you really want to delete this task? It's done, so no problem ;)"))){e.next=10;break}return A.classList.remove("invis"),e.next=5,fetch("https://gorest.co.in/public-api/todos/".concat(t.id),{method:"DELETE",headers:{Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"}});case 5:return n=e.sent,c=n.json(),A.classList.add("invis"),I(!1),e.abrupt("return",c);case 10:case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(u.a)(l.a.mark((function e(t,n,c){var a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},e.t0=t,e.next="DONE"===e.t0?4:"UNDONE"===e.t0?6:"EDITED"===e.t0?8:12;break;case 4:return a={completed:!0},e.abrupt("break",13);case 6:return a={completed:!1},e.abrupt("break",13);case 8:if(U(c)){e.next=10;break}return e.abrupt("return");case 10:return a={title:c},e.abrupt("break",13);case 12:return e.abrupt("return");case 13:return A.classList.remove("invis"),e.next=17,fetch("https://gorest.co.in/public-api/todos/".concat(n.id),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"},body:JSON.stringify(a)});case 17:return s=e.sent,i=s.json(),I(!1),A.classList.add("invis"),e.abrupt("return",i);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return e.length>200?(V("Too many characters! I can't handle it! :("),!1):!(e.length<5)||(V("Even a small task need some words to describe. Try at least 5 characters! :)"),!1)}function V(e){h(e),document.getElementById("info").classList.remove("invis")}return Object(c.useEffect)((function(){R()})),Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(k,{info:d}),Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",children:z()}),Object(O.jsx)(j.a,{path:"/undone",children:z("FILTER_UNDONE")}),Object(O.jsx)(j.a,{path:"/done",children:z("FILTER_DONE")}),Object(O.jsx)(j.a,{path:"/add",children:Object(O.jsx)(m,{onRefresh:function(){return I(!1)},onInfo:function(e){return V(e)}})}),Object(O.jsx)(j.a,{path:"/search",children:z("FILTER_SEARCH")})]})]})};var E=function(){return Object(O.jsx)("div",{id:"loading",className:"invis",children:Object(O.jsxs)("h2",{children:["Loading...",Object(O.jsx)("svg",{id:"pencil",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(O.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})]})})};var I=function(){return Object(O.jsx)("div",{className:"footer",children:Object(O.jsx)("p",{children:"\xae Copyright 2021 - Daniel Krawczyk"})})};var L=function(){return Object(O.jsxs)(o.a,{children:[Object(O.jsx)(w,{}),Object(O.jsx)(E,{}),Object(O.jsx)(I,{})]})};n(36);i.a.render(Object(O.jsx)(r.a,{basename:"/TodoApp",children:Object(O.jsx)(L,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.aa0f7720.chunk.js.map