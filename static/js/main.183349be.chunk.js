(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(16),i=n.n(s),r=n(9),o=n(3),d=n(4),l=n.n(d),u=n(11),b=n(2),h=n(5),j=Object(o.b)({key:"characters",default:0}),O=-1;"id"in localStorage&&(O=JSON.parse(localStorage.getItem("id")));var m=Object(o.b)({key:"User ID info",default:O}),p=n(0);var f=function(e){var t=Object(o.c)(j),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(o.d)(m),d=Object(c.useState)(""),h=Object(b.a)(d,2),O=h[0],f=h[1],x=document.getElementById("loading"),v=document.getElementById("finished");function g(){return(g=Object(u.a)(l.a.mark((function t(){var n,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a>200)){t.next=5;break}return e.onInfo("It's soooo many letters! I'm not sure I can handle it :("),t.abrupt("return");case 5:if(!(a<5)){t.next=8;break}return e.onInfo("Oh, come on! Don't give me empty task! At least 5 characters would be nice :)"),t.abrupt("return");case 8:return x.classList.remove("invis"),n={user_id:125,title:document.getElementById("title").value,completed:!1},t.prev=10,t.next=13,fetch("https://gorest.co.in/public-api/users/".concat(i,"/todos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"},body:JSON.stringify(n)});case 13:return c=t.sent,r=c.json(),f("New task added succesfully!"),t.abrupt("return",r);case 19:t.prev=19,t.t0=t.catch(10),f("Ooops, something bad happened to the Internet! Try again later :/");case 22:return t.prev=22,v.classList.remove("invis"),x.classList.add("invis"),e.onRefresh(),s(0),t.finish(22);case 28:case"end":return t.stop()}}),t,null,[[10,19,22,28]])})))).apply(this,arguments)}return Object(p.jsxs)("div",{className:"add",children:[Object(p.jsx)("div",{className:"add-title",children:Object(p.jsx)("h1",{children:"Let's add some new challenges!"})}),Object(p.jsxs)("div",{className:"add-form",children:[Object(p.jsx)("p",{children:Object(p.jsxs)("b",{children:[a," / ",Object(p.jsx)("span",{id:"maxValue",children:"200"})]})}),Object(p.jsx)("textarea",{id:"title",onChange:function(e){s(e.target.value.length),setTimeout((function(){a>200?document.getElementById("maxValue").classList.add("red"):a<=200&&document.getElementById("maxValue").classList.contains("red")&&document.getElementById("maxValue").classList.remove("red")}),200)}}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{className:"btn g m-r",onClick:function(){(function(){return g.apply(this,arguments)})().catch((function(e){return console.log(e)}))},children:"Utw\xf3rz now\u0105 notatk\u0119!"}),Object(p.jsx)(r.b,{to:"/",children:Object(p.jsx)("button",{className:"btn r",children:"Powr\xf3t do listy"})})]}),Object(p.jsx)("div",{id:"finished",className:"invis",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("h2",{children:O}),Object(p.jsx)(r.b,{to:"/",children:Object(p.jsx)("button",{className:"btn g",onClick:function(){return v.classList.add("invis")},children:"Let's go back to work!"})})]})})]})};var x=function(e){var t=Object(c.useState)(0),n=Object(b.a)(t,2),s=n[0],i=n[1],r=e.nr,o=e.txt,d=e.item;return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)("div",{className:"editing-txt",children:[Object(p.jsx)("textarea",{name:"edit",placeholder:o,id:"edited".concat(r),onChange:function(e){return i(e.target.value.length)}}),Object(p.jsxs)("p",{children:[s," / 200"]})]}),Object(p.jsx)("button",{className:"btn g",onClick:function(){var t=document.getElementById("edited".concat(r)).value;e.onUpdate("EDITED",d,t)},children:"Save"})]})},v=Object(o.b)({key:"is loaded",default:!1});var g=function(e){var t=e.item,n=e.nr,c=t.completed,a=t.title,s=t.created_at,i=t.updated_at,r=Object(o.d)(v);return Object(p.jsxs)("div",{className:"main-list_item",children:[Object(p.jsxs)("span",{className:"marked",children:[c?Object(p.jsx)("h2",{children:Object(p.jsx)("i",{className:"bi bi-check-lg green"})}):Object(p.jsx)("h2",{children:Object(p.jsx)("i",{className:"bi bi-x-lg red"})}),Object(p.jsxs)("h2",{children:["ToDo #",n]})]}),Object(p.jsxs)("span",{className:"text",children:[Object(p.jsx)("p",{className:"point",onClick:function(){return function(e){var t=document.getElementById("info".concat(e)).classList;t.contains("show")?t.remove("show"):t.add("show")}(n)},children:a}),Object(p.jsxs)("div",{className:"text-info fade",id:"info".concat(n),children:[Object(p.jsxs)("span",{children:["Created at: ",s]}),Object(p.jsxs)("span",{children:["Last update: ",i]})]}),Object(p.jsx)("div",{className:"editing invis-hide",id:"edit".concat(n),children:Object(p.jsx)(x,{nr:n,txt:a,item:t,onUpdate:function(t,n,c){return e.onUpdate(t,n,c)}})})]}),Object(p.jsxs)("span",{className:"options",children:[c?Object(p.jsx)("h2",{onClick:function(){return e.onInfo("Firstly you need to undone the task!")},children:Object(p.jsx)("i",{className:"bi bi-pencil edit"})}):Object(p.jsx)("h2",{onClick:function(){return function(t){if(!1===r)return e.onInfo("Oh, boo hoo! Here comes the fastest finger on the west, huh? Nice try :P");var n=document.getElementById("edit".concat(t)).classList;n.contains("invis-hide")?n.remove("invis-hide"):n.add("invis-hide")}(n)},children:Object(p.jsx)("i",{className:"bi bi-pencil edit"})}),c?Object(p.jsx)("h2",{onClick:function(){return e.onUpdate("UNDONE",t)},children:Object(p.jsx)("i",{className:"bi bi-x-lg undone"})}):Object(p.jsx)("h2",{onClick:function(){document.querySelectorAll(".editing").forEach((function(e){e.classList.contains("invis-hide")||e.classList.add("invis-hide")})),e.onUpdate("DONE",t)},children:Object(p.jsx)("i",{className:"bi bi-check-lg done"})}),Object(p.jsx)("h2",{onClick:function(){return e.onDelete(t)},children:Object(p.jsx)("i",{className:"bi bi-trash trash"})})]})]})},N=Object(o.b)({key:"data",default:{status:"NO_DATA",all:[],undone:[],done:[]}}),y=Object(o.b)({key:"search temp data",default:{keyword:"",data:[]}});var k=function(){var e=Object(o.d)(N),t=Object(o.c)(y),n=Object(b.a)(t,2),c=n[0],s=n[1];function i(){var e=document.getElementById("search").classList;e.contains("invis-hide")||e.add("invis-hide")}return Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsxs)("div",{className:"main-title",children:[Object(p.jsx)("h1",{children:"Hello! I hope you're feeling great today!"}),Object(p.jsx)("h2",{children:"Here's some of your tasks!"})]}),Object(p.jsxs)("div",{className:"main-counter",children:[Object(p.jsx)("span",{className:"count m-r",children:"Filter by"}),Object(p.jsx)(r.b,{className:"m-t",to:"/",children:Object(p.jsxs)("span",{className:"count h m-r",onClick:function(){return i()},children:[Object(p.jsx)("i",{className:"bi bi-card-checklist green"})," All tasks: ",e.all.length]})}),Object(p.jsx)(r.b,{className:"m-t",to:"/done",children:Object(p.jsxs)("span",{className:"count h m-r",onClick:function(){return i()},children:[Object(p.jsx)("i",{className:"bi bi-check-square green"})," Tasks done: ",e.done.length>0?e.done.length:0]})}),Object(p.jsx)(r.b,{className:"m-t",to:"/undone",children:Object(p.jsxs)("span",{className:"count h m-r",onClick:function(){return i()},children:[Object(p.jsx)("i",{className:"bi bi-x-square red"})," Tasks undone: ",e.undone.length>0?e.undone.length:0]})}),Object(p.jsx)(r.b,{to:"/add",children:Object(p.jsx)("div",{id:"add",children:Object(p.jsx)("i",{className:"bi bi-plus-lg"})})}),Object(p.jsx)(r.b,{className:"m-t",to:"/search",children:Object(p.jsx)("span",{className:"count h",onClick:function(){var e=document.getElementById("search").classList;e.contains("invis-hide")?e.remove("invis-hide"):e.add("invis-hide")},children:Object(p.jsx)("i",{className:"bi bi-search"})})}),Object(p.jsx)("div",{className:"invis-hide",id:"search",children:Object(p.jsx)("input",{type:"text",placeholder:c.keyword,onChange:function(t){var n=e.all.filter((function(e){return e.title.includes(t.target.value)}));s({keyword:t.target.value,data:n})}})})]})]})};var w=function(e){var t=e.info;return Object(p.jsx)("div",{id:"info",className:"invis",children:Object(p.jsxs)("span",{children:[Object(p.jsx)("h2",{children:t}),Object(p.jsx)("button",{className:"btn g",onClick:function(){return document.getElementById("info").classList.add("invis")},children:"Okay!"})]})})},E=Object(o.b)({key:"info",default:""}),I=Math.random().toString(20).substr(2,20),L={name:I,gender:"Male",email:"".concat(I,"@what.com"),status:"Active"},C=Object(o.b)({key:"data for create new user",default:L});var T=function(){var e=Object(o.c)(N),t=Object(b.a)(e,2),n=t[0],s=t[1],i=Object(o.c)(E),r=Object(b.a)(i,2),d=r[0],j=r[1],O=Object(o.c)(v),x=Object(b.a)(O,2),I=x[0],L=x[1],T=Object(o.c)(y),A=Object(b.a)(T,2),D=A[0],B=A[1],S=Object(o.c)(m),_=Object(b.a)(S,2),R=_[0],z=_[1],U=Object(o.d)(C),F=Object(c.useState)(!1),V=Object(b.a)(F,2),H=V[0],J=V[1],M=document.getElementById("loading");function P(){return(P=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gorest.co.in/public-api/users/".concat(R,"/todos?access-token=a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"));case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gorest.co.in/public-api/users/".concat(R,"?access-token=a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"));case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gorest.co.in/public-api/users/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"},body:JSON.stringify(U)});case 2:return t=e.sent,n=t.json(),J(!0),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){!0!==I&&function(){return P.apply(this,arguments)}().then((function(e){200===e.code&&0===e.data.length?(G("NO_TASKS"),L(!0)):404===e.code?G("CONNECTION_ERR"):200===e.code&&e.data.length>0&&(G("READY",e.data,e.data.filter((function(e){return!1===e.completed})),e.data.filter((function(e){return!0===e.completed}))),B({keyword:D.keyword,data:n.all.filter((function(e){return e.title.includes(D.keyword)}))}),L(!0))})).catch((function(e){G("CONNECTION_ERR"),console.log("I detected some pointless and unwanted errors! Have a nice tea! ".concat(e))}))}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NO_DATA",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];s({status:e,all:t,undone:n,done:c})}function Q(e){var t;switch(e){case"FILTER_UNDONE":t=n.undone;break;case"FILTER_DONE":t=n.done;break;case"FILTER_SEARCH":t=D.data;break;default:t=n.all}switch(n.status){case"NO_DATA":return Object(p.jsx)("div",{id:"loading",children:Object(p.jsxs)("h2",{children:["Loading...",Object(p.jsx)("svg",{id:"pencil",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})]})});case"NO_TASKS":return Object(p.jsx)("div",{className:"result",children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"});case"CONNECTION_ERR":return Object(p.jsx)("div",{className:"result",children:"Oh no, something bad happened to the internet! \ud83d\ude28 Check your connection or try again later! \ud83d\ude09"});default:var c=0;return 0===t.length?Object(p.jsx)("div",{className:"result",children:"Looks like there are no tasks available. Beer and chill? \ud83c\udf7a\ud83d\ude0e"}):t.map((function(e){return c++,Object(p.jsx)(g,{item:e,nr:c,onDelete:function(e){return function(e){return X.apply(this,arguments)}(e)},onInfo:function(e){return ee(e)},onUpdate:function(e,t,n){return function(e,t,n){return Z.apply(this,arguments)}(e,t,n)}},e.id)}))}}function W(e){return Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(k,{}),Q(e)]})}function X(){return(X=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1===t.completed?window.confirm("Do you reaaally want to delete this task? It seems it's not done yet :/"):window.confirm("Do you really want to delete this task? It's done, so no problem ;)"))){e.next=10;break}return M.classList.remove("invis"),e.next=5,fetch("https://gorest.co.in/public-api/todos/".concat(t.id),{method:"DELETE",headers:{Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"}});case 5:return n=e.sent,c=n.json(),M.classList.add("invis"),L(!1),e.abrupt("return",c);case 10:case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(u.a)(l.a.mark((function e(t,n,c){var a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},e.t0=t,e.next="DONE"===e.t0?4:"UNDONE"===e.t0?6:"EDITED"===e.t0?8:12;break;case 4:return a={completed:!0},e.abrupt("break",13);case 6:return a={completed:!1},e.abrupt("break",13);case 8:if($(c)){e.next=10;break}return e.abrupt("return");case 10:return a={title:c},e.abrupt("break",13);case 12:return e.abrupt("return");case 13:return M.classList.remove("invis"),e.next=17,fetch("https://gorest.co.in/public-api/todos/".concat(n.id),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer a72dccbb572f8052c337da5c29c96abfe9096b6207999d422cc88b28ec6e55a9"},body:JSON.stringify(a)});case 17:return s=e.sent,i=s.json(),L(!1),M.classList.add("invis"),e.abrupt("return",i);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return e.length>200?(ee("Too many characters! I can't handle it! :("),!1):!(e.length<5)||(ee("Even a small task need some words to describe. Try at least 5 characters! :)"),!1)}function ee(e){j(e),document.getElementById("info").classList.remove("invis")}return Object(c.useEffect)((function(){(function(){return q.apply(this,arguments)})().then((function(e){404===e.code&&!1===H&&function(){return K.apply(this,arguments)}().then((function(e){void 0!==e&&void 0!==e.data.id&&(z(e.data.id),localStorage.setItem("id",JSON.stringify(e.data.id)))}))})).then((function(){R<0||Y()}))})),Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(w,{info:d}),Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{exact:!0,path:"/",children:W()}),Object(p.jsx)(h.a,{path:"/undone",children:W("FILTER_UNDONE")}),Object(p.jsx)(h.a,{path:"/done",children:W("FILTER_DONE")}),Object(p.jsx)(h.a,{path:"/add",children:Object(p.jsx)(f,{onRefresh:function(){return L(!1)},onInfo:function(e){return ee(e)}})}),Object(p.jsx)(h.a,{path:"/search",children:W("FILTER_SEARCH")})]})]})};var A=function(){return Object(p.jsx)("div",{id:"loading",className:"invis",children:Object(p.jsxs)("h2",{children:["Loading...",Object(p.jsx)("svg",{id:"pencil",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(p.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})]})})};var D=function(){return Object(p.jsx)("div",{className:"footer",children:Object(p.jsx)("p",{children:"\xae Copyright 2021 - Daniel Krawczyk"})})};var B=function(){return Object(p.jsxs)(o.a,{children:[Object(p.jsx)(T,{}),Object(p.jsx)(A,{}),Object(p.jsx)(D,{})]})};n(36);i.a.render(Object(p.jsx)(r.a,{basename:"/TodoApp",children:Object(p.jsx)(B,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.183349be.chunk.js.map